ORG 000H

MOV A, #00H

UP:
MOV P1, A
ACALL DELAY
INC A
CJNE A, #0FFH, UP

DOWN:
MOV P1, A
ACALL DELAY
DEC A
CJNE A, #00H, DOWN

SJMP UP

DELAY:
MOV TMOD, #01H
MOV TL0, #0B0H
MOV TH0, #0FFH
MOV TCON, #10H
WAIT: JNB TF0, WAIT
CLR TR0
CLR TF0
RET